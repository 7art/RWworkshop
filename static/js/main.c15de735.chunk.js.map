{"version":3,"sources":["components/MovieItem.js","components/MovieTabs.js","components/Pagination.js","components/WillWatchList.js","components/App.js","utils/utils.js","index.js"],"names":["MovieItem","props","state","willWatch","this","willwatch","setState","movie","addMoviesToWillWatch","removeMovie","removeMoviesToWillWatch","className","alt","title","src","poster_path","backdrop_path","vote_average","type","onClick","prev","React","Component","MovieTabs","sortBy","updateSortBy","handlerTabs","value","getActiveLink","Pagination","pageNumber","totalPages","updatePageNumber","disabledPrev","disabledNext","aria-label","href","WillWatchList","moviesWillWatch","map","item","key","id","App","getFetch","fetch","then","response","json","data","movies","results","total_pages","filter","updatedWillWatch","console","log","updatedMoviesToWillWatch","cheсkWillWatch","movieId","find","prevProps","prevState","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c15de735.chunk.js","sourcesContent":["import React from \"react\";\r\nconst defaultImageUrl = \"/wwemzKWzjKYJFfCeiB57q3r4Bcm.png\";\r\n\r\nclass MovieItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { willWatch: false };\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.willwatch) {\r\n      this.setState({ willWatch: true });\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      movie,\r\n      removeMovie,\r\n      addMoviesToWillWatch,\r\n      removeMoviesToWillWatch,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          alt={movie.title}\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${\r\n            movie.poster_path || movie.backdrop_path || defaultImageUrl\r\n          }`}\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{movie.title}</h6>\r\n          <div className=\"d-flex justify-content-between aling-items-center\">\r\n            <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n            <button\r\n              type=\"button\"\r\n              className={\r\n                !this.state.willWatch ? \"btn btn-secondary\" : \"btn btn-success\"\r\n              }\r\n              onClick={() => {\r\n                this.setState((prev) => {\r\n                  return { willWatch: !prev.willWatch };\r\n                });\r\n                this.state.willWatch\r\n                  ? removeMoviesToWillWatch(movie)\r\n                  : addMoviesToWillWatch(movie);\r\n              }}\r\n            >\r\n              {this.state.willWatch ? \"Watched\" : \"Will Watch\"}\r\n            </button>\r\n          </div>\r\n          {/*<button type=\"button\" onClick={removeMovie.bind(null, movie)}>\r\n      Delete\r\n            </button>*/}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default MovieItem;\r\n","import React from \"react\";\r\n\r\nconst MovieTabs = (props) => {\r\n  const { sortBy, updateSortBy } = props;\r\n  const handlerTabs = (value) => {\r\n    return () => {\r\n      updateSortBy(value);\r\n    };\r\n  };\r\n\r\n  const getActiveLink = (value) => {\r\n    return `nav-link ${sortBy === value ? \"active\" : \"\"}`;\r\n  };\r\n\r\n  return (\r\n    <ul className=\"nav nav-tabs\">\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getActiveLink(\"popularity.desc\")}\r\n          onClick={handlerTabs(\"popularity.desc\")}\r\n        >\r\n          Popularity desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getActiveLink(\"revenue.desc\")}\r\n          onClick={handlerTabs(\"revenue.desc\")}\r\n        >\r\n          Revenue desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getActiveLink(\"voteaverage.desc\")}\r\n          onClick={handlerTabs(\"voteaverage.desc\")}\r\n        >\r\n          Vote avedrage desc\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\n\r\nconst Pagination = (props) => {\r\n  const { pageNumber, totalPages, updatePageNumber } = props;\r\n\r\n  let disabledPrev = pageNumber === 1 ? \"disabled\" : \" \";\r\n  let disabledNext = pageNumber === totalPages ? \"disabled\" : \" \";\r\n  return (\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul className=\"pagination justify-content-center\">\r\n        <li className={`page-item ${disabledPrev}`}>\r\n          <a\r\n            className=\"page-link\"\r\n            href=\"#\"\r\n            onClick={() => {\r\n              updatePageNumber(pageNumber - 1);\r\n            }}\r\n          >\r\n            Prev\r\n          </a>\r\n        </li>\r\n        {/* <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            1\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            2\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            3\r\n          </a>\r\n  </li>*/}\r\n        <li className={`page-item ${disabledNext}`}>\r\n          <a\r\n            className=\"page-link\"\r\n            href=\"#\"\r\n            onClick={() => {\r\n              updatePageNumber(pageNumber + 1);\r\n            }}\r\n          >\r\n            Next\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\n\r\nconst WillWatchList = ({ moviesWillWatch }) => {\r\n  return (\r\n    <ul className=\"list-group\">\r\n      {moviesWillWatch.map((item) => {\r\n        return (\r\n          <li key={item.id} className=\"list-group-item\">\r\n            {item.title}\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default WillWatchList;\r\n","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport { API_URL, API_KEY } from \"../utils/utils\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport Pagination from \"./Pagination\";\nimport WillWatchList from \"./WillWatchList\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sortBy: \"popularity.desc\",\n      totalPages: 0,\n      pageNumber: 1,\n    };\n  }\n  getFetch = () => {\n    fetch(\n      `${API_URL}discover/movie?api_key=${API_KEY}&sort_by=${this.state.sortBy}&page=${this.state.pageNumber}`\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        // console.log(data);\n        this.setState({ movies: data.results, totalPages: data.total_pages });\n      });\n  };\n\n  componentDidMount() {\n    this.getFetch();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sortBy !== this.state.sortBy) {\n      this.setState({ pageNumber: 1 });\n      this.getFetch();\n    }\n    if (prevState.pageNumber !== this.state.pageNumber) {\n      this.getFetch();\n    }\n  }\n\n  removeMovie = (movie) => {\n    // console.log(\"I was clicked\");\n    // const updatedMovie = this.state.movies.filter(function (item) {\n    //   return item.id !== movie.id;\n    // });\n    // // console.log(this.state.movies);\n    // // debugger;\n    // this.setState({ movies: updatedMovie });\n    // console.log(\"deleted\", movie.id);\n\n    this.setState((prev) => {\n      return {\n        movies: prev.movies.filter((item) => item.id !== movie.id),\n      };\n    });\n    // console.log(this.state);\n  };\n  addMoviesToWillWatch = (movie) => {\n    const updatedWillWatch = [...this.state.moviesWillWatch, movie];\n\n    this.setState({ moviesWillWatch: updatedWillWatch });\n    console.log(this.state.moviesWillWatch);\n  };\n  removeMoviesToWillWatch = (movie) => {\n    const updatedMoviesToWillWatch = this.state.moviesWillWatch.filter(\n      function (item) {\n        return item.id !== movie.id;\n      }\n    );\n\n    this.setState({ moviesWillWatch: updatedMoviesToWillWatch });\n  };\n  updateSortBy = (value) => {\n    this.setState({ sortBy: value });\n  };\n  updatePageNumber = (value) => {\n    this.setState({ pageNumber: value });\n  };\n  cheсkWillWatch = (movieId) => {\n    return this.state.moviesWillWatch.find((item) => item.id === movieId);\n  };\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-9 mt-4\">\n            <div className=\"row\">\n              <div className=\"col-12 mb-4\">\n                <MovieTabs\n                  sortBy={this.state.sortBy}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-12 mb-4\">\n                <Pagination\n                  pageNumber={this.state.pageNumber}\n                  totalPages={this.state.totalPages}\n                  updatePageNumber={this.updatePageNumber}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map((movie) => {\n                return (\n                  <div className=\"col-6 mb-4\" key={`k_${movie.id}`}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMoviesToWillWatch={this.addMoviesToWillWatch}\n                      removeMoviesToWillWatch={this.removeMoviesToWillWatch}\n                      willwatch={this.cheсkWillWatch(movie.id)}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3 mt-4\">\n            <p>Will Watch: {this.state.moviesWillWatch.length}</p>\n            <WillWatchList moviesWillWatch={this.state.moviesWillWatch} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3/\";\r\nexport const API_KEY = \"47758b3f5eeb4ced7c77cebb1bbf3572\";\r\n// export const API_KEY_3 = \"\";\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}