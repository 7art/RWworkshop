{"version":3,"sources":["components/MovieItem.js","components/MovieTabs.js","components/Pagination.js","components/App.js","utils/utils.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMoviesToWillWatch","removeMoviesToWillWatch","className","alt","title","src","backdrop_path","poster_path","vote_average","type","onClick","setState","prev","bind","React","Component","MovieTabs","sortBy","updateSortBy","handlerTabs","value","getActiveLink","Pagination","pageNumber","totalPages","updatePageNumber","console","log","disabledPrev","disabledNext","aria-label","href","App","getFetch","fetch","then","response","json","data","movies","results","total_pages","filter","item","id","updatedWillWatch","moviesWillWatch","updatedMoviesToWillWatch","prevProps","prevState","totalPage","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.266f20e0.chunk.js","sourcesContent":["import React from \"react\";\r\nconst defaultImageUrl = \"/wwemzKWzjKYJFfCeiB57q3r4Bcm.png\";\r\n\r\nclass MovieItem extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { willWatch: false };\r\n  }\r\n  render() {\r\n    const {\r\n      movie,\r\n      removeMovie,\r\n      addMoviesToWillWatch,\r\n      removeMoviesToWillWatch,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          alt={movie.title}\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${\r\n            movie.backdrop_path || movie.poster_path || defaultImageUrl\r\n          }`}\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{movie.title}</h6>\r\n          <div className=\"d-flex justify-content-between aling-items-center\">\r\n            <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n            <button\r\n              type=\"button\"\r\n              className={\r\n                !this.state.willWatch ? \"btn btn-secondary\" : \"btn btn-success\"\r\n              }\r\n              onClick={() => {\r\n                this.setState((prev) => {\r\n                  return { willWatch: !prev.willWatch };\r\n                });\r\n                this.state.willWatch\r\n                  ? removeMoviesToWillWatch(movie)\r\n                  : addMoviesToWillWatch(movie);\r\n              }}\r\n            >\r\n              {this.state.willWatch ? \"Remove Will Watch\" : \"Will Watch\"}\r\n            </button>\r\n          </div>\r\n          <button type=\"button\" onClick={removeMovie.bind(null, movie)}>\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default MovieItem;\r\n","import React from \"react\";\r\n\r\nconst MovieTabs = (props) => {\r\n  const { sortBy, updateSortBy } = props;\r\n  const handlerTabs = (value) => {\r\n    return () => {\r\n      updateSortBy(value);\r\n    };\r\n  };\r\n\r\n  const getActiveLink = (value) => {\r\n    return `nav-link ${sortBy === value ? \"active\" : \"\"}`;\r\n  };\r\n\r\n  return (\r\n    <ul className=\"nav nav-tabs\">\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getActiveLink(\"popularity.desc\")}\r\n          onClick={handlerTabs(\"popularity.desc\")}\r\n        >\r\n          Popularity desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getActiveLink(\"revenue.desc\")}\r\n          onClick={handlerTabs(\"revenue.desc\")}\r\n        >\r\n          Revenue desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div\r\n          className={getActiveLink(\"voteaverage.desc\")}\r\n          onClick={handlerTabs(\"voteaverage.desc\")}\r\n        >\r\n          Vote avedrage desc\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\n\r\nconst Pagination = (props) => {\r\n  const { pageNumber, totalPages, updatePageNumber } = props;\r\n  console.log(props);\r\n  let disabledPrev = pageNumber === 1 ? \"disabled\" : \" \";\r\n  let disabledNext = pageNumber === +totalPages ? \"disabled\" : \" \";\r\n  console.log(\"disabledNext\", disabledNext);\r\n  return (\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul className=\"pagination justify-content-center\">\r\n        <li className={`page-item ${disabledPrev}`}>\r\n          <a\r\n            className=\"page-link\"\r\n            href=\"#\"\r\n            onClick={() => {\r\n              updatePageNumber(pageNumber - 1);\r\n            }}\r\n          >\r\n            Previous\r\n          </a>\r\n        </li>\r\n        {/* <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            1\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            2\r\n          </a>\r\n        </li>\r\n        <li className=\"page-item\">\r\n          <a className=\"page-link\" href=\"#\">\r\n            3\r\n          </a>\r\n  </li>*/}\r\n        <li className={`page-item ${disabledNext}`}>\r\n          <a\r\n            className=\"page-link\"\r\n            href=\"#\"\r\n            onClick={() => {\r\n              updatePageNumber(pageNumber + 1);\r\n            }}\r\n          >\r\n            Next\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport { API_URL, API_KEY } from \"../utils/utils\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport Pagination from \"./Pagination\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sortBy: \"popularity.desc\",\n      totalPages: 0,\n      pageNumber: 498,\n    };\n  }\n  getFetch = () => {\n    fetch(\n      `${API_URL}discover/movie?api_key=${API_KEY}&sort_by=${this.state.sortBy}&page=${this.state.pageNumber}`\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        this.setState({ movies: data.results, totalPages: data.total_pages });\n      });\n  };\n\n  componentDidMount() {\n    this.getFetch();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sortBy !== this.state.sortBy) {\n      this.setState({ pageNumber: 1 });\n      this.getFetch();\n    }\n    if (prevState.pageNumber !== this.state.pageNumber) {\n      this.getFetch();\n    }\n  }\n\n  removeMovie = (movie) => {\n    console.log(\"I was clicked\");\n    // const updatedMovie = this.state.movies.filter(function (item) {\n    //   return item.id !== movie.id;\n    // });\n    // // console.log(this.state.movies);\n    // // debugger;\n    // this.setState({ movies: updatedMovie });\n    // console.log(\"deleted\", movie.id);\n\n    this.setState((prev) => {\n      return {\n        movies: prev.movies.filter((item) => item.id !== movie.id),\n      };\n    });\n    // console.log(this.state);\n  };\n  addMoviesToWillWatch = (movie) => {\n    console.log(\"I was clicked\");\n    const updatedWillWatch = [...this.state.moviesWillWatch, movie];\n\n    this.setState({ moviesWillWatch: updatedWillWatch });\n  };\n  removeMoviesToWillWatch = (movie) => {\n    const updatedMoviesToWillWatch = this.state.moviesWillWatch.filter(\n      function (item) {\n        return item.id !== movie.id;\n      }\n    );\n\n    this.setState({ moviesWillWatch: updatedMoviesToWillWatch });\n  };\n  updateSortBy = (value) => {\n    this.setState({ sortBy: value });\n  };\n  updatePageNumber = (value) => {\n    this.setState({ pageNumber: value });\n  };\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-9 mt-4\">\n            <div className=\"row\">\n              <div className=\"col-12 mb-4\">\n                <MovieTabs\n                  sortBy={this.state.sortBy}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-12 mb-4\">\n                <Pagination\n                  pageNumber={this.state.pageNumber}\n                  totalPage={this.state.totalPages}\n                  updatePageNumber={this.updatePageNumber}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map((movie) => {\n                return (\n                  <div className=\"col-6 mb-4\" key={`k_${movie.id}`}>\n                    <MovieItem\n                      movie={movie}\n                      removeMovie={this.removeMovie}\n                      addMoviesToWillWatch={this.addMoviesToWillWatch}\n                      removeMoviesToWillWatch={this.removeMoviesToWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3 mt-4\">\n            <p>Will Watch: {this.state.moviesWillWatch.length}</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3/\";\r\nexport const API_KEY = \"47758b3f5eeb4ced7c77cebb1bbf3572\";\r\n// export const API_KEY_3 = \"\";\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}